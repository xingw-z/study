<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>74</title>
</head>

<body>

</body>
<script>

    var searchMatrix = function (matrix, target) {
        if (!matrix || !matrix.length) return false
        if (matrix[0] && (matrix[0][0] > target)) return false
        let start = 0
        let end = matrix.length - 1
        while (1) {
            let mid = start + ((end - start) >> 1)
            if (matrix[mid][0] === target) return true
            if (mid === start) {
                if (matrix[end][0] === target) return true
                else if (matrix[end][0] < target) start = end
                break
            }
            if (matrix[mid][0] > target) {
                end = mid
            } else if (matrix[mid][0] < target) {
                start = mid
            }
        }
        let left = 0
        let right = matrix[start].length - 1
        while (1) {
            let mid = left + ((right - left) >> 1)
            if (matrix[start][mid] === target) return true
            if (mid === left) {
                if (matrix[start][right] === target) return true
                break
            }
            if (matrix[start][mid] > target) {
                right = mid
            } else if (matrix[start][mid] < target) {
                left = mid
            }
        }
        return false
    };
    console.log(searchMatrix([[1,3,5,7],[10,11,16,20],[23,30,34,50]], 30))
</script>

</html>