<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>69</title>
</head>

<body>

</body>
<script>
    var mySqrt = function (x) {
        if (x === 0) return x
        if (x <= 3) return 1

        let start = 2
        let end = x >> 1
        var aa = new Date()
        while (start < end) {
            if (Date.now() - aa > 10) {
                throw new Error('Loop running too long!')
            }
            let mid = start + Math.floor((end - start) / 2)
            let midSquare = mid * mid
            if (mid === start || mid === start) break
            if (midSquare === x) return mid
            else if (midSquare > x) end = mid
            else start = mid
        } 
        return Math.min(start, end)
    };

    console.log(mySqrt(8))
</script>

</html>